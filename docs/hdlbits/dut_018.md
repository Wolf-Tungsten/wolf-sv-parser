# dut_018 单操作数 concat 修复记录

## 问题
- `make run_hdlbits_test DUT=018` 在 emit 阶段报错：`kConcat missing operands or results (concat_0_1)`。原因是 elaboration 对 `{expr}` 也生成 `kConcat`，当只有一个操作数时会违背 emit 对 concat 至少两输入的假设。

## 解决思路
- RHS concat 转换时先收集操作数：为空直接失败；只有一个操作数时不再创建 `kConcat`，而是按目标类型做一次 `resizeValue`（等价于透传/调整位宽）；多于一个操作数才生成 `kConcat`。这样不会出现单输入 concat，emit 端无需特殊兼容。

## 运行命令与输出
```bash
make run_hdlbits_test DUT=018
```
```
build/bin/wolf-sv-parser --emit-sv --dump-grh -o build/hdlbits/018/dut_018.v tests/data/hdlbits/dut/dut_018.v
[emit-sv] Wrote SystemVerilog to /workspace/wolf-sv-parser/build/hdlbits/018/dut_018.v
Build succeeded: 0 errors, 0 warnings
[RUN] ./build/hdlbits/018/sim_018
[TB] dut_018 passed: out is 32-bit sign-extended in
```
