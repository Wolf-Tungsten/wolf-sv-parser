# XS wave diff 20260216_221813

Written: 2026-02-16 22:27:16 CST

## Earliest waveform divergence (all signals)
Command:
```
python3 tools/fst_diff_tool.py --fst-a build/logs/xs/xs_ref_20260215_171313.fst --fst-b build/logs/xs/xs_wolf_20260215_171313.fst --allow-all-signals --max-diffs 1 --format table
```

Tool summary:
- ROI t=[0, 16607]
- common=930301, compared=930301

Earliest diff:
- Signal: `TOP.SimTop.logEndpoint.WriteBuffer_abtbBank0_port0_usefulNSamples [63:0]`
- diverge_time: 1156
- value_a: 0000000000000000000000000000000000000000000000000000000111100010
- value_b: 0000000000000000000000000000000000000000000000000000000111100001
- end_value_a: 0000000000000000000000000000000000000000000000000001111111100001
- end_value_b: 0000000000000000000000000000000000000000000000000001111101001010

## Minimal producer module for earliest diff signal
Hierarchy breakdown:
- TOP
  - SimTop
    - logEndpoint (instance of `LogPerfEndpoint`)
      - WriteBuffer_abtbBank0_port0_usefulNSamples (local reg)

Evidence:
- `SimTop` instantiates `LogPerfEndpoint` as `logEndpoint` in `build/xs/rtl/rtl/SimTop.sv` (see the `LogPerfEndpoint logEndpoint (` block).
- `WriteBuffer_abtbBank0_port0_usefulNSamples` is declared as a local `reg [63:0]` inside `build/xs/rtl/rtl/LogPerfEndpoint.sv`.
- The same file updates the reg in the `LogPerfEndpoint` sequential logic (e.g. the `enable_bore_15` block increments the counter), so the signal is generated entirely within `LogPerfEndpoint` and does not originate from any submodule below it.

Conclusion:
- The smallest module that produces the earliest divergent signal is `LogPerfEndpoint` (the `logEndpoint` instance under `SimTop`).
